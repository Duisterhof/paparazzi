<!DOCTYPE settings SYSTEM "../settings.dtd">

<settings target="ap|nps">
  <dl_settings>

  	<!-- This settings file for the delfy guidance module contains ONLY the additional settings 
  	 	 w.r.t. rotorcraft_guidance.xml. In order to use all settings, load the latter as well! -->
  	
    <dl_settings name="Delfly">
      <dl_setting var="delfly_guidance.gains.h.complementary_gain" min="0" step="10" max="5000" alt_unit="" alt_unit_coef="0.01" module="delfly_control/delfly_guidance" shortname="head_tau" param="DELFLY_GUIDANCE_COMPLEMENTARY_HEADING_GAIN" type="int32" persistent="true"/>
      
      <dl_setting var="guidance_lat.gains.p" min="1" step="1" max="1000" alt_unit=" %" module="guidance/guidance_lat" shortname="kp" param="GUIDANCE_LAT_PGAIN" type="int32" persistent="true"/>
    <!--/dl_settings>
    
    <dl_settings name="Flap control"-->
      <!--dl_setting var="flap_control.gains.p" min="0" step="1" max="1000" alt_unit="%" module="delfly_control/flap_control" shortname="flap_kp" param="FLAP_CONTROL_PGAIN" type="int32"/>
      <dl_setting var="flap_control.gains.i" min="0" step="1" max="1000" alt_unit="%" module="delfly_control/flap_control" shortname="flap_ki" param="FLAP_CONTROL_IGAIN" type="int32"/-->
      <dl_setting var="flap_control.gains.gamma" min="0" step="1" max="1000" alt_unit="%" module="delfly_control/flap_control" shortname="flap_gamma" param="FLAP_CONTROL_ADAPT" type="int32" persistent="true"/>
      <dl_setting var="flap_control.ratio" min="0.0" step="0.1" max="10.0" alt_unit=" %/Hz" module="delfly_control/flap_control" shortname="flap_ratio" param="FLAP_CONTROL_RATIO" type="float"/>
    <!--/dl_settings>
       
    <dl_settings name="Speed/thrust loop"-->
      <dl_setting var="ANGLE_FLOAT_OF_BFP(INT32_DEG_OF_RAD(speed_control.pitch_offset))" min="-90" step="1" max="90" alt_unit=" deg" module="delfly_control/speed_control" shortname="Th_off" param="SPEED_CONTROL_PITCH_OFFSET" type="int32" persistent="true" handler="set_pitch_offset"/>
      <dl_setting var="speed_control.fb_gains.p" min="0" step="1" max="1000" alt_unit=" %" module="delfly_control/speed_control" shortname="fb_kp" param="SPEED_CONTROL_FB_PGAIN" type="int32" persistent="true"/>
      <dl_setting var="speed_control.fb_gains.i" min="0" step="1" max="1000" alt_unit=" %" module="delfly_control/speed_control" shortname="fb_ki" param="SPEED_CONTROL_FB_IGAIN" type="int32" persistent="true"/>
	  <dl_setting var="speed_control.ff_gains.pitch" min="1" step="1" max="1000" alt_unit=" %" module="delfly_control/speed_control" shortname="ff_pitch" param="SPEED_CONTROL_FF_PITCH_GAIN" type="int32" persistent="true"/>
	  <dl_setting var="speed_control.ff_gains.throttle" min="1" step="1" max="1000" alt_unit=" %" module="delfly_control/speed_control" shortname="ff_throttle" param="SPEED_CONTROL_FF_THROTTLE_GAIN" type="int32" persistent="true"/>
    <!--/dl_settings>
    
    <dl_settings name="State estimation"-->
      <dl_setting var="state_estimation.mode" min="3" step="1" max="6" values="OFF|ENTER|ESTIMATE|USE_GPS|GPS_FILTER|GPS_AVERAGE|GPS_AVGFILT|PREDICT|COMPLEMENTARY|KALMAN" module="delfly_control/state_estimation" shortname="est_mode" param="STATE_ESTIMATION_MODE" type="uint8"/>
    </dl_settings>
    
    

  </dl_settings>
</settings>
